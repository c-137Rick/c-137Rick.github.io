---
layout:     post
title:      "Welcome to wjw Blog"
subtitle:   "Hello World, Hello Blog"
date:       2025-03-15
author:     "wjw"
header-img: "img/post-bg-2015.jpg"
tags:
    - 测试
---

# WPS灵犀调研

> 测试下

试试能不能正常上传文件

测试目标：

1.能读取多大的文件，试试样例——样例可以完整读取

```
原因分析：让大模型生成对文件的处理方式，而非直接用大模型对文件内容进行分析，因此对文件内容（Token量）没有太严苛的限制，
# 上传的文件保存路径为/mnt/xxx/xx
df = pd.read_excel('/mnt/8695436394103018/区域_损益汇总(2)(1).xlsx')
# 输出文件路径后台生成
output_path = '/mnt/data/A代表处全产业分析.xlsx'
# 图片生成方法， 前端展示用echarts
plt.plot(group['会计期'], 
             group['设备收入']/1e6,  # 转换为百万元
             marker='o',
             linestyle='--',
             label=f'{lv1}产业')
```

2.能否顺利读取文件并完成基本对数据的汇总和总结

3.能否基于要求，返回相应的文件（excel、ppt、html报告）

```
能返回相应的文件，并且已经下载到本地
```

4.了解实现的过程

1 主动展示推理过程

2.生成处理的任务项目

3.大模型生成代码，由后台沙箱执行代码，完成操作

```
1.但是梳理的过程很快，猜测逻辑思考过程使用R1，后续非推理模型
2.整体的思路:
```



需要对excel做哪些方面的处理：

1.数据的处理—文件上传至服务器，deepseek模型进行推理，给出完成用户任务的执行步骤，以及代码，基于用户提示编写python代码，后台沙箱执行代码，基于用户诉求，给出分析结果（图表等）

2）为什么是沙箱：数据隔离，每个会话创建独立的沙箱？



###  message type

数据分析 data_analysis

推理开始 reasoning_start

推理进行中 reasoning

代码阶段 st_code

文本阶段 st_text

图片生成 st_echarts

最后结论 text

结束 finish

数据分析结束 data_analysis_end

推荐开始 recommend_start

推荐结束 recommend_end

![image-20250317011028688](img/image-20250317010833286.png)